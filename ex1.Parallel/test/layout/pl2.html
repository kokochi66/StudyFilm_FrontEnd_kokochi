<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>패럴렉스 레이아웃 연습2</title>
  <style>

/* 기본 칸 레이아웃 */
* {margin: 0; padding: 0;}
.article > section {height: 100vh; font-size: 12vh; text-align: center;
line-height: 100vh;}
#sect1 {background: radial-gradient(ellipse farthest-corner at center top, #f8bbd0 0%, #e91e63 100%);}
#sect2 {background: radial-gradient(ellipse farthest-corner at center bottom, #ef9a9a 50%, #e57373 100%);}
#sect3 {background: radial-gradient(ellipse farthest-corner at center top, #9fa8da 0%, #536dfe 100%);}
#sect4 {background: radial-gradient(ellipse farthest-corner at center top, #80cbc4 0%, #26a69a 100%);}

/* 메뉴 레이아웃 */
#menu {position: absolute; width: 100%;  height: 60px; background-color: rgba(63,72,204,0.3);
z-index: 1000; left: 0; bottom: 0;}
#menu.on {top: 0; position: fixed;}
#menu h1 {display: inline-block; padding: 8px 20px;}
#menu ul {display: block;  padding-top: 12px; float: right;}
#menu ul li {display: inline-block;}
#menu ul li.active a {color: #fb8c00;}
#menu ul li a {text-decoration: none; color: #fff; font-weight: bold; font-size: 20px;
padding: 20px 20px; text-shadow: 5px 3px 2px #000;}
#menu ul li a:hover {color: #a5d6a7;}
  </style>
</head>
<body>
  <div id="menu">
    <h1>Menu Title</h1>
    <ul>
      <li class="active"><a href="#sect1">menu1</a></li>
      <li><a href="#sect2">menu2</a></li>
      <li><a href="#sect3">menu3</a></li>
      <li><a href="#sect4">menu4</a></li>
    </ul>
  </div>
  <article class="article">
      <section id="sect1">sect1</section>
      <section id="sect2">sect2</section>
      <section id="sect3">sect3</section>
      <section id="sect4">sect4</section>
  </article>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script>
// 스크립트 파트

//  탑메뉴 fixed로 붙는거 구현
    $("#menu").each(function() {
      var HeadMenu = $(this);
      var index = HeadMenu.offset().top-5;
      $(window).scroll(function(e){
        var Scroll = $(this).scrollTop();
        if(Scroll > index) {
          HeadMenu.addClass("on");
        }
        else {
          HeadMenu.removeClass("on");
        }
      });
    });

    var menuMove = $("#menu ul li");
    var sections = $("article > section");
    menuMove.click(function(e){
      e.preventDefault();
      var offset = sections.eq( $(this).index()).offset().top;
      $("html, body").animate({scrollTop:offset},600,"easeInOutQuint");
    });

    $(window).scroll(function(){
        var cSwit = $(this).scrollTop();
        if(cSwit >= sections.eq(0).offset().top-2) {
          menuMove.removeClass("active");
          menuMove.eq(0).addClass("active");
        }
        if(cSwit >= sections.eq(1).offset().top-2) {
          menuMove.removeClass("active");
          menuMove.eq(1).addClass("active");
        }
        if(cSwit >= sections.eq(2).offset().top-2) {
          menuMove.removeClass("active");
          menuMove.eq(2).addClass("active");
        }
        if(cSwit >= sections.eq(3).offset().top-2) {
          menuMove.removeClass("active");
          menuMove.eq(3).addClass("active");
        }
    });

  </script>
</body>
</html>
