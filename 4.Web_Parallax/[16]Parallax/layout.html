<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
  <title>패럴랙스 레이아웃 예제 16</title>
</head>
<body>
  <div id="wrap">
    <h1>Parallax <em>LayoutExample(4)</em></h1>
    <div class="info">
      <span>scrollTop() : <strong class="scrollTop">0</strong>px</span><br>
      <span>#section1 offset : <strong class="num1OT">0</strong>px</span><br>
      <span>#section2 offset : <strong class="num2OT">0</strong>px</span><br>
      <span>#section3 offset : <strong class="num3OT">0</strong>px</span><br>
      <span>#section4 offset : <strong class="num4OT">0</strong>px</span><br>
    </div>
    <div id="cont">
      <section id="sec1" class="cont_it">
        <span class="cont_it_num">01</span>
        <h2 class="cont_it_tit">Basic Coding</h2>
        <div class="cont_it_imgwrap">
          <div class="cont_it_img"></div>
        </div>
        <p class="cont_it_desc">cont-패럴랙스 예제 레이아웃의 내용입니다.</p>
      </section>
      <section id="sec2" class="cont_it">
        <span class="cont_it_num">02</span>
        <h2 class="cont_it_tit">Basic Coding</h2>
        <div class="cont_it_imgwrap">
          <div class="cont_it_img"></div>
        </div>
        <p class="cont_it_desc">cont-패럴랙스 예제 레이아웃의 내용입니다.</p>
      </section>
      <section id="sec3" class="cont_it">
        <span class="cont_it_num">03</span>
        <h2 class="cont_it_tit">Basic Coding</h2>
        <div class="cont_it_imgwrap">
          <div class="cont_it_img"></div>
        </div>
        <p class="cont_it_desc">cont-패럴랙스 예제 레이아웃의 내용입니다.</p>
      </section>
      <section id="sec4" class="cont_it">
        <span class="cont_it_num">04</span>
        <h2 class="cont_it_tit">Basic Coding</h2>
        <div class="cont_it_imgwrap">
          <div class="cont_it_img"></div>
        </div>
        <p class="cont_it_desc">cont-패럴랙스 예제 레이아웃의 내용입니다.</p>
      </section>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script>
    var infoArr = [];
    var secArr = [];
    var offsetArr = [];
    for(var i = 0; i < 5 ; i++) {
      infoArr[i] = $("#wrap .info span").eq(i);
      if(i == 0) infoArr[i].find("strong").text(parseInt($(window).scrollTop() + $(window).height()/2));
      else {
        secArr[i-1] = $("#cont .cont_it").eq(i-1);
        offsetArr[i-1] = parseInt(secArr[i-1].offset().top);
        infoArr[i].find("strong").text(offsetArr[i-1]);
      }
    }
    $(window).scroll(function(e){
      const sc = parseInt($(window).scrollTop() + $(window).height()/2);
      for(var i = 0; i < 5; i++) {
        if(i == 0) infoArr[i].find("strong").text(sc);
        else {
          if(sc >= offsetArr[i-1]) {
            secArr[i-1].addClass("show");
            secArr[i-1].removeClass("close");
            infoArr[i].find("strong").addClass("active");
          }
          else if(secArr[i-1].hasClass("show")) {
            secArr[i-1].addClass("close");
            secArr[i-1].removeClass("show");
            infoArr[i].find("strong").removeClass("active");
          }
        }
      }
    });
  </script>
</body>
</html>


























<!-- // -->
